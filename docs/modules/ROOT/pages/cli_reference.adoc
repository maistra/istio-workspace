= CLI Reference

[#ike]
== `ike`

Main command, which starts the operator.


[cols="2,4,1,1"]
|===
|Option|Purpose|Format|Default
|`--config` (`-c`)
|config file (supported formats: json, toml, yaml, yml, properties, props, prop, hcl)
|`string`
|.ike.config.yaml

|===


// TODO section about operator and how it works + link here


[#ike-develop]
== `ike develop`

Creates or joins existing development session in the cluster. Allows to re-route cluster network traffic to your local process.

.Flags
[cols="2,4,1,1"]
|===
|Option|Purpose|Format|Default

|`--build` (`-b`)
|command to build your application before run
|`string`
|

|`--deployment` (`-d`)
|name of the deployment or deployment config
|`string`
|

|`--help` (`-h`)
|help for develop
|`bool`
|false

|`--method` (`-m`)
|telepresence proxying mode - see https://www.telepresence.io/reference/methods
|`string`
|inject-tcp

|`--namespace` (`-n`)
|target namespace to develop against (defaults to default for the current context)
|`string`
|

|`--no-build`
|always skips build
|`bool`
|false


|`--port` (`-p`)
|port to be exposed in format local[:remote]
|`string`
|8000

|`--route`
|specifies traffic route options in the format of type:name=value. Defaults to X-Workspace-Route header with current session name value
|`string`
|

|`--run` (`-r`)
|command to run your application
|`string`
|

|`--session` (`-s`)
|create or join an existing session
|`string`
|

|`--watch`
|enables watch
|`bool`
|false

|`--watch-exclude`
|list of patterns to exclude (defaults to telepresence.log which is always excluded)
|takes comma-separated value as arguments and split them accordingly (`string`)
|[*.log]

|`--watch-include` (`-w`)
|list of directories to watch
|takes comma-separated value as arguments and split them accordingly (`string`)
|[/home/bartek/code/golang/src/github.com/maistra/istio-workspace]
|===






[#ike-version]
== `ike version`

Prints version of the binary and build metadata.

// TODO ideally that should be autogenerated during the build
// prereq: format help in asciidoc format (either built-in in go or converted through bash-fu)
// cmd.SetHelpFunc(f func(*Command, []string))
// - if --adoc then one func, otherwise normal
// option A (not sure if doable): asciidoc extension allowing to execute shell commands
// option B: generate partials upfront and just include them
// - this will be separate step outside of the doc gen, so 
// might result with being overlooked if not bundled in some
// aliases for local dev
[source,bash]
----
$ ike version
{"level":"info","ts":1558110025.0718904,"logger":"cmd","msg":"Ike Version: 0.0.1"}
{"level":"info","ts":1558110025.0719123,"logger":"cmd","msg":"Go Version: go1.12"}
{"level":"info","ts":1558110025.0719163,"logger":"cmd","msg":"Go OS/Arch: linux/amd64"}
{"level":"info","ts":1558110025.0719194,"logger":"cmd","msg":"operator-sdk Version: v0.7.0"}
{"level":"info","ts":1558110025.071923,"logger":"cmd","msg":"Build Commit: c01afe6-dirty"}
{"level":"info","ts":1558110025.071926,"logger":"cmd","msg":"Build Time: 2019-05-16T09:40:09Z"}

----

[#configuration]
== Configuration

Settings / flags for every command can be persisted in `yaml` file.